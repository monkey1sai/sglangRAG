# ==================================================
# sglang Server 環境變數配置
# 複製此檔案為 .env 並填入實際值
# ==================================================

# -------------------- API 安全 --------------------
# sglang API 金鑰 (必填，用於 API 認證)
SGLANG_API_KEY=your-secure-api-key-here

# HuggingFace Token (部分模型需要，如 Llama 系列)
HF_TOKEN=hf_xxxxxxxxxxxxxxxxxxxx

# -------------------- 模型配置 --------------------
# 模型名稱 (HuggingFace 格式)
# RTX 4060 Ti 8GB 推薦模型:
#   - Qwen/Qwen2.5-3B-Instruct (預設，約 6GB VRAM)
#   - microsoft/Phi-3-mini-4k-instruct (約 5GB VRAM)
#   - TheBloke/Mistral-7B-Instruct-v0.2-GPTQ (量化版，約 5GB VRAM)
#   - Qwen/Qwen2.5-1.5B-Instruct (約 3GB VRAM，輕量版)
MODEL_NAME=Qwen/Qwen2.5-3B-Instruct

# 最大上下文長度 (RTX 4060 Ti 8GB 建議 2048-4096)
MAX_MODEL_LEN=4096

# 模型快取路徑 (Windows 格式需調整)
MODEL_CACHE_PATH=~/.cache/huggingface

# -------------------- Grafana (監控用) --------------------
GRAFANA_USER=admin
GRAFANA_PASSWORD=your-grafana-password

# -------------------- Orchestrator (可選) --------------------
# 若設定，前端連 Orchestrator 時需帶 ?api_key= 或 Authorization: Bearer
ORCH_API_KEY=

# -------------------- ws_gateway_tts (預設 piper；第一次啟動會自動下載到 volume) --------------------
WS_TTS_ENGINE=piper
# Optional: protect gateway endpoint (Bearer)
WS_TTS_API_KEY=

# delta -> TTS buffering policy (Orchestrator)
TTS_FLUSH_MIN_CHARS=12
TTS_FLUSH_ON_PUNCT=true
ALLOW_CLIENT_TTS_URL=false

# Piper (if WS_TTS_ENGINE=piper)
PIPER_BIN=/opt/piper/piper
PIPER_MODEL=/opt/piper/models/zh_CN-huayan-medium.onnx
PIPER_SPEAKER_ID=
PIPER_EXTRA_ARGS=
PIPER_OUTPUT_MODE=file

# Riva (if WS_TTS_ENGINE=riva)
RIVA_SERVER=localhost:50051
